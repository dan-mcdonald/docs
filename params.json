{"name":"Docs","tagline":"Documents","body":"# The Jirafe Events API\r\nIn the documentation, some URIs contain the symbol \"{site-id}.‚Äù\r\nThis symbol should be replaced with your *Site Identifier*, which is available from Jirafe support.\r\n\r\nNotes:\r\n* All dates are given in ISO 8601:2004 format.\r\n* All dates and times are given in UTC.\r\n\r\n## Authentication\r\nWhen you are granted access to the Jirafe Event-Api, a representative will issue you an oauth token.\r\nIn all of the requests described in this document, it is assumed that this token will be sent as a bearer token in the `Authorization` header.\r\n\r\n### Example\r\nFor example, if you are given an oauth-token of \"45dc86d2e2fc4342939a2b6791cfcb9b1c4b89a0\", then in all requests you make to the event api you will include this header\r\n```\r\n...\r\nAuthorization: Bearer 45dc86d2e2fc4342939a2b6791cfcb9b1c4b89a0\r\n...\r\n```\r\n\r\nIn some of this document's example code sections, the fake oauth token given above is used.\r\nPlease replace this fake token with your own when running the example code.\r\n\r\n## Endpoints\r\nThe Jirafe Events API exposes the following URI endpoints:\r\n\r\n<table>\r\n    <thead>\r\n        <tr>\r\n            <th>URI</th>\r\n            <th>verb</th>\r\n            <th>Schema</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/tracker/pageview.gif\r\n            </td>\r\n            <td>\r\n                GET\r\n            </td>\r\n            <td rowspan=\"2\">\r\n                https://event.jirafe.com/v2/schema/pageview.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/tracker/pageview\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/tracker/visit.gif\r\n            </td>\r\n            <td>\r\n                GET\r\n            </td>\r\n            <td rowspan=\"2\">\r\n                https://event.jirafe.com/v2/schema/visit.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/tracker/visit\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/{site-id}/cart\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n            <td>\r\n                https://event.jirafe.com/v2/schema/cart.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/{site-id}/category\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n            <td>\r\n                https://event.jirafe.com/v2/schema/category.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/{site-id}/employee\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n            <td>\r\n                https://event.jirafe.com/v2/schema/employee.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/{site-id}/customer\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n            <td>\r\n                https://event.jirafe.com/v2/schema/customer.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/{site-id}/order\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n            <td>\r\n                https://event.jirafe.com/v2/schema/order-placed.json<br/>\r\n                https://event.jirafe.com/v2/schema/order-accepted.json<br/>\r\n                https://event.jirafe.com/v2/schema/order-cancelled.json\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td>\r\n                https://event.jirafe.com/v2/{site-id}/product\r\n            </td>\r\n            <td>\r\n                POST\r\n            </td>\r\n            <td>\r\n                https://event.jirafe.com/v2/schema/product.json\r\n            </td>\r\n        </tr>\r\n\r\n    </tbody>\r\n</table>\r\n\r\n### The Cart Endpoint\r\n**URL:** https://event.jirafe.com/v2/{site-id}/cart [POST]\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/cart.json\r\n\r\nCart events are sent whenever a user adds, removes or alters their cart. *Note:* this event is distinct from and order event, which is the event that happens when a cart is purchased.\r\n\r\n#### Example\r\n```json\r\n{\r\n    \"id\": \"8797436543019\",\r\n    \"create_date\": \"2013-06-17T15:16:10.000Z\",\r\n    \"change_date\": \"2013-06-17T15:16:15.000Z\",\r\n    \"subtotal\": 99.85,\r\n    \"total\": 99.85,\r\n    \"total_tax\": 4.75\r\n    \"total_shipping\": 0.0,\r\n    \"total_payment_cost\": 0.0,\r\n    \"total_discounts\": 0.0,\r\n    \"currency\": \"USD\",\r\n    \"cookies\": {},\r\n    \"items\": [\r\n        {\r\n            \"id\": \"8797371007020\",\r\n            \"create_date\": \"2013-06-17T15:16:11.000Z\",\r\n            \"change_date\": \"2013-06-17T15:16:11.000Z\",\r\n            \"cart_item_number\": \"1\",\r\n            \"quantity\": 1,\r\n            \"price\": 99.85,\r\n            \"discount_price\": 0.0,\r\n            \"product\": {\r\n                \"id\": \"8796107014145\",\r\n                \"create_date\": \"2013-03-28T19:46:39.000Z\",\r\n                \"change_date\": \"2013-03-28T19:50:58.000Z\",\r\n                \"is_product\": true,\r\n                \"is_sku\": true,\r\n                \"catalog\": {\r\n                    \"id\": \"electronicsProductCatalog\",\r\n                    \"name\": \"Electronics Product Catalog\"\r\n                },\r\n                \"name\": \"PowerShot A480\",\r\n                \"code\": \"1934793\",\r\n                \"brand\": \"Canon\",\r\n                \"categories\": [\r\n                    {\r\n                        \"id\": \"8796098461838\",\r\n                        \"name\": \"Digital Compacts\"\r\n                    },\r\n                    {\r\n                        \"id\": \"8796099248270\",\r\n                        \"name\": \"Canon\"\r\n                    }\r\n                ],\r\n                \"images\": [\r\n                    {\r\n                        \"url\": \"http://yourstore.com/images/the_photo.jpg\"\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ],\r\n    \"previous_items\": [\r\n    ],\r\n    \"customer\": {\r\n        \"id\": \"abc123\",\r\n        \"create_date\": \"2013-06-17T15:16:11.000Z\",\r\n        \"change_date\": \"2013-06-17T15:16:11.000Z\",\r\n        \"email\": \"foo@example.com\",\r\n        \"first_name\": \"Jane\",\r\n        \"last_name\": \"Doe\"\r\n    },\r\n    \"visit\": {\r\n        \"visit_id\": \"1234\",\r\n        \"visitor_id\": \"4321\",\r\n        \"pageview_id\": \"5678\",\r\n        \"last_pageview_id\": \"8765\"\r\n    }\r\n}\r\n\r\n}\r\n```\r\n\r\n### The Category Endpoint\r\n**URL:** https://event.jirafe.com/v2/{site-id}/category [POST]\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/category.json\r\n\r\n#### Example\r\n```json\r\n{\r\n    \"id\": \"8796094234766\",\r\n    \"name\": \"Lens system\",\r\n    \"change_date\": \"2013-03-28T19:44:11.000Z\",\r\n    \"create_date\": \"2013-03-28T19:38:09.000Z\"\r\n}\r\n```\r\n\r\n### The Customer Endpoint\r\n**URL:** https://event.jirafe.com/v2/{site-id}/customer [POST]\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/customer.json\r\n\r\n#### Example\r\n```json\r\n{\r\n    \"id\": \"1234abc\",\r\n    \"active_flag\": true,\r\n    \"change_date\": \"2013-06-17T15:15:53.000Z\",\r\n    \"create_date\": \"2013-06-17T15:15:53.000Z\",\r\n    \"email\": \"john.doe@gmail.com\",\r\n    \"first_name\": \"John\",\r\n    \"last_name\": \"Doe\",\r\n    \"name\": \"John Doe\"\r\n}\r\n```\r\n\r\n### The Employee Endpoint\r\n**URL:** https://event.jirafe.com/v2/{site-id}/employee [POST]\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/employee.json\r\n\r\n#### Example\r\n```json\r\n{\r\n    \"id\": \"532sdfg\",\r\n    \"active_flag\": true,\r\n    \"change_date\": \"2013-03-28T19:38:03.000Z\",\r\n    \"create_date\": \"2013-03-28T19:38:03.000Z\",\r\n    \"first_name\": \"Product\",\r\n    \"last_name\": \"Manager\",\r\n    \"email\": \"product_manager@example.com\",\r\n}\r\n```\r\n\r\n### The Order Endpoint\r\n**URL:** https://event.jirafe.com/v2/{site-id}/order [POST]\r\n\r\nThe order endpoint accepts three different schemas:\r\n* The `order-placed` event is sent first with the information connecting the order number with the visit cookies stored by the tracker javascript\r\n* The `order-accepted` event is sent next with all of the information about the order after it has been authorized and paid for by the customer. Anytime the order iterms change, this event is sent again with items containing the new order and previous_items showing how things were before the order changed\r\n* The `order-cancelled` event is sent if the entire order is canceled\r\n\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/order-placed.json\r\n#### Example\r\n```json\r\n{\r\n    \"order_number\": \"123456789\",\r\n    \"cart_id\": \"123456789\",\r\n    \"status\": \"placed\",\r\n    \"customer\": {\r\n        \"id\": \"abc123\",\r\n        \"create_date\": \"2013-06-17T15:16:11.000Z\",\r\n        \"change_date\": \"2013-06-17T15:16:11.000Z\",\r\n        \"email\": \"foo@example.com\",\r\n        \"first_name\": \"Jane\",\r\n        \"last_name\": \"Doe\"\r\n    },\r\n    \"visit\": {\r\n        \"visit_id\": \"1234\",\r\n        \"visitor_id\": \"4321\",\r\n        \"pageview_id\": \"5678\",\r\n        \"last_pageview_id\": \"8765\"\r\n    }\r\n}\r\n\r\n}\r\n```\r\n\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/order-accepted.json\r\n#### Example\r\n```json\r\n{\r\n    \"order_number\": \"8797436543019\",\r\n    \"cart_id\": \"1234asdf\",\r\n    \"status\": \"accepted\",\r\n    \"order_date\": \"2013-06-17T15:16:10.000Z\",\r\n    \"create_date\": \"2013-06-17T15:16:10.000Z\",\r\n    \"change_date\": \"2013-06-17T15:16:15.000Z\",\r\n    \"subtotal\": 99.85,\r\n    \"total\": 99.85,\r\n    \"total_tax\": 4.75\r\n    \"total_shipping\": 0.0,\r\n    \"total_payment_cost\": 0.0,\r\n    \"total_discounts\": 0.0,\r\n    \"currency\": \"USD\",\r\n    \"items\": [\r\n        {\r\n            \"id\": \"8797371007020\",\r\n            \"create_date\": \"2013-06-17T15:16:11.000Z\",\r\n            \"change_date\": \"2013-06-17T15:16:11.000Z\",\r\n            \"cart_item_number\": \"1\",\r\n            \"quantity\": 1,\r\n            \"price\": 99.85,\r\n            \"discount_price\": 0.0,\r\n            \"product\": {\r\n                \"id\": \"8796107014145\",\r\n                \"create_date\": \"2013-03-28T19:46:39.000Z\",\r\n                \"change_date\": \"2013-03-28T19:50:58.000Z\",\r\n                \"is_product\": true,\r\n                \"is_sku\": true,\r\n                \"catalog\": {\r\n                    \"id\": \"electronicsProductCatalog\",\r\n                    \"name\": \"Electronics Product Catalog\"\r\n                },\r\n                \"name\": \"PowerShot A480\",\r\n                \"code\": \"1934793\",\r\n                \"brand\": \"Canon\",\r\n                \"categories\": [\r\n                    {\r\n                        \"id\": \"8796098461838\",\r\n                        \"name\": \"Digital Compacts\"\r\n                    },\r\n                    {\r\n                        \"id\": \"8796099248270\",\r\n                        \"name\": \"Canon\"\r\n                    }\r\n                ],\r\n                \"images\": [\r\n                    {\r\n                        \"url\": \"http://yourstore.com/images/the_photo.jpg\"\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    ],\r\n    \"previous_items\": [\r\n    ],\r\n    \"customer\": {\r\n        \"id\": \"abc123\",\r\n        \"create_date\": \"2013-06-17T15:16:11.000Z\",\r\n        \"change_date\": \"2013-06-17T15:16:11.000Z\",\r\n        \"email\": \"foo@example.com\",\r\n        \"first_name\": \"Jane\",\r\n        \"last_name\": \"Doe\"\r\n    }\r\n}\r\n```\r\n\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/order-cancelled.json\r\n#### Example\r\n```json\r\n{\r\n    \"order_number\": \"123456789\",\r\n    \"status\": \"cancelled\"\r\n}\r\n\r\n}\r\n```\r\n\r\n### The Product Endpoint\r\n**URL:** https://event.jirafe.com/v2/{site-id}/product [POST]\r\n**Schema:** https://github.com/jirafe/docs/blob/master/event-api/jsonschema/v2/product.json\r\n\r\n#### Example\r\n```json\r\n{\r\n    \"id\": \"8796107014145\",\r\n    \"create_date\": \"2013-03-28T19:46:39.000Z\",\r\n    \"change_date\": \"2013-03-28T19:50:58.000Z\",\r\n    \"is_product\": true,\r\n    \"is_sku\": true,\r\n    \"catalog\": {\r\n        \"id\": \"electronicsProductCatalog\",\r\n        \"name\": \"Electronics Product Catalog\"\r\n    },\r\n    \"name\": \"PowerShot A480\",\r\n    \"code\": \"1934793\",\r\n    \"brand\": \"Canon\",\r\n    \"categories\": [\r\n        {\r\n            \"id\": \"8796098461838\",\r\n            \"name\": \"Digital Compacts\"\r\n        },\r\n        {\r\n            \"id\": \"8796099248270\",\r\n            \"name\": \"Canon\"\r\n        }\r\n    ],\r\n    \"images\": [\r\n        {\r\n            \"url\": \"http://yourstore.com/images/the_photo.jpg\"\r\n        }\r\n    ]\r\n}\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}